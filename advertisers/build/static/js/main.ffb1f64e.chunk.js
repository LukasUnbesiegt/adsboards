(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){e.exports={dateSpan:"groupDate_dateSpan__2ZYTZ"}},164:function(e,t,a){e.exports={borderLine:"sidebar_borderLine__2GjET",sidebarlink:"sidebar_sidebarlink__1731f"}},282:function(e,t,a){e.exports={sidebar:"routes_sidebar__1IO5Y",navbarColor:"routes_navbarColor__1dhIg",iconBullet:"routes_iconBullet__3Qua8"}},283:function(e,t,a){e.exports={wrapper:"LoadingComponent_wrapper__3lSsS"}},284:function(e,t,a){e.exports={ldsHourglass:"LoadingIcon_ldsHourglass__3fQWB"}},289:function(e,t,a){e.exports={messageBoxWrapper:"MessageBox_messageBoxWrapper__285qc"}},290:function(e,t,a){e.exports={ChatBoxWrapper:"chat_ChatBoxWrapper__15Dyz"}},291:function(e,t,a){e.exports={totalSpan:"schedules_totalSpan__3tUJn"}},422:function(e,t,a){e.exports=a(764)},506:function(e,t,a){},55:function(e,t,a){e.exports={ListsWrapper:"ChatLists_ListsWrapper__2pz1v",container:"ChatLists_container__VJTX3",darker:"ChatLists_darker__1qMrz",imgRight:"ChatLists_imgRight__3bBQo",timeRight:"ChatLists_timeRight__1G8uj",timeLeft:"ChatLists_timeLeft__3hrtQ"}},764:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),l=a.n(c),s=a(13),o=a(19),i=a(275),d=a(14),m="auth_user",u="GET_ERRORS",p={},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register_user":return Object(d.a)({},e,{register:t.payload});case"login_user":return Object(d.a)({},e,{loginSuccess:t.payload});case m:return Object(d.a)({},e,{userData:t.payload});case"logout_user":return Object(d.a)({},e);default:return e}},f={},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case u:return Object(d.a)({},e,{error:n});case"CLEAR_ERRORS":return{};default:return e}},v=a(17),E=a.n(v),b=a(128),y={loading:!1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;switch((arguments.length>1?arguments[1]:void 0).type){case"ASYNC_ACTION_START":return Object(d.a)({},e,{loading:!0});case"ASYNC_ACTION_FINISH":case"ASYNC_ACTION_ERROR":return Object(d.a)({},e,{loading:!1});default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL_OPEN":var a=t.payload;return{modalType:a.modalType,modalProps:a.modalProps};case"MODAL_CLOSE":return null;default:return e}},O=a(50),j={},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ADVERTS":return Object(d.a)({},e,{adverts:t.payload});case"GET_SINGLE_ADVERT":return Object(d.a)({},e,{advert:t.payload});case"SPOT_LISTS":return Object(d.a)({},e,{lists:t.payload});default:return e}},S={},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SINGLE_ADVERTISER":return Object(d.a)({},e,{advertiser:t.payload});default:return e}},w={},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BOARDS":return Object(d.a)({},e,{boards:t.payload});case"GET_SINGLE_BOARD":return Object(d.a)({},e,{board:t.payload});case"GET_SINGLEBOARD_REQUESTS":return Object(d.a)({},e,{schedule:t.payload});case"GET_BOARDS_REQUESTED":return Object(d.a)({},e,{requests:t.payload});case"GET_DATES":return Object(d.a)({},e,{dates:t.payload});default:return e}},A={},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SCHEDULES_BY":return Object(d.a)({},e,{schedules:t.payload});case"SINGLE_SCHEDULE":return Object(d.a)({},e,{schedule:t.payload});case"TODAY_SCHEDULES":return Object(d.a)({},e,{today:t.payload});default:return e}},_=a(278),R=a(279),T=a.n(R),B=a(280),L=a(35),F=a(189),M=Object(L.a)(),Y=function(e){var t,a=[_.a,T.a,Object(F.a)(M)],n=[o.applyMiddleware.apply(void 0,a),b.b],r=B.composeWithDevTools.apply(void 0,n);return{store:Object(o.createStore)((t=M,Object(o.combineReducers)({router:Object(O.b)(t),form:i.a,user:h,async:N,modal:C,errors:g,browser:b.a,toastr:v.reducer,adverts:x,profile:k,boards:D,schedules:I})),e,r),history:M}},q=(a(506),a(3)),U=a(4),P=a(6),G=a(5),H=a(7),z=a(18),W=a(80),V=a(10),Q=a(281),K=a.n(Q),J=a(282),$=a.n(J),Z=a(68),X=a.n(Z),ee=a(129),te=new(function(){function e(){Object(q.a)(this,e),this.tokenKey="auth_token",this.cartId="cart_id"}return Object(U.a)(e,[{key:"getToken",value:function(){localStorage.getItem(this.tokenKey)}},{key:"getCartToken",value:function(){localStorage.getItem(this.cartId)}},{key:"setCartToken",value:function(e){localStorage.setItem(this.cartId,e)}},{key:"setToken",value:function(e){localStorage.setItem(this.tokenKey,e)}},{key:"deleteToken",value:function(){localStorage.removeItem(this.tokenKey)}}]),e}()),ae=a(43),ne=a.n(ae),re="https://spotads.herokuapp.com/",ce="".concat(re,"api/v1"),le=new(function(){function e(){Object(q.a)(this,e),this.axiosInstance={},this.initInstance()}return Object(U.a)(e,[{key:"initInstance",value:function(){return this.axiosInstance=ne.a.create({baseURL:ce,withCredentials:"include"}),this.axiosInstance.interceptors.request.use(function(e){var t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization="".concat(t)),e}),this.axiosInstance}},{key:"getInstance",value:function(){return this.axiosInstance||this.initInstance()}}]),e}()),se=a(33),oe=a(163),ie=a.n(oe),de=re,me=le.getInstance(),ue=function(e,t){return function(a){me.get("/chats/rooms/".concat(e)).then(function(e){t(e.data)})}};function pe(e,t){return function(){var e=Object(ee.a)(X.a.mark(function e(t){var a;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.get("/advertisers/adauth");case 3:a=e.sent,t({type:m,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}var he=a(283),fe=a.n(he),ge=a(284),ve=a.n(ge);function Ee(){return r.a.createElement("div",{className:"".concat(ve.a.ldsHourglass)})}function be(){return r.a.createElement("div",{className:"".concat(fe.a.wrapper)},r.a.createElement(Ee,null))}var ye=[],Ne=Object(s.connect)(function(e){return{currentModal:e.modal}})(function(e){var t,a=e.currentModal;if(a){var n=a.modalType,c=a.modalProps,l=ye.find(function(e){return e.name=n});console.log(l);var s=l.modal;t=r.a.createElement(s,c)}return r.a.createElement("span",null,t)});var Ce=void 0,Oe=[{name:"adverts",icon:"fa-ad",linkTo:"/adverts",admin:!1,dropdowns:!1},{name:" find boards",icon:"fa-tv",linkTo:"/spots",admin:!1,dropdowns:!1},{name:"board requests",icon:"fa-paper-plane",linkTo:"/requests",admin:!1,dropdowns:!1},{name:"schedules",icon:"fa-calendar-check",linkTo:"/schedules",admin:!1,dropdowns:!1},{name:"profile",icon:"fa-id-card",admin:!1,dropdowns:!0,links:[{name:"company",linkTo:"/profile"},{name:"account",linkTo:"/account"}]}],je=a(164),xe=a.n(je),Se=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).state={collapse:!1,correctLinks:[]},a.renderNavbarLinks=function(e){var t=a.props,n=(t.i,t.item,t.changeStyle),c=t.sidebarlink;return e.map(function(e,t){return r.a.createElement("li",{className:"",key:t},r.a.createElement(z.b,{className:"nav-link text-white p-3 mb-2  ".concat(c," "),to:e.linkTo},r.a.createElement("span",{style:{fontSize:"12px"}},n?"":"".concat(e.name))))})},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"render",value:function(){var e=this,t=this.props,a=t.i,c=t.item,l=t.changeStyle,s=t.sidebarlink;return r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"",key:a},r.a.createElement("a",{className:"nav-link text-white p-3 mb-2  ".concat(s," "),onClick:function(){e.toggle()}},r.a.createElement("i",{className:"fa ".concat(c.icon," fa-lg")}),r.a.createElement("span",{style:{fontSize:"12px"}},l?"":"".concat(c.name),c.dropdowns&&!l&&r.a.createElement("i",{className:"ni ni-bold-down ml-2"})))),r.a.createElement(V.h,{isOpen:this.state.collapse},r.a.createElement("div",{className:"container my-3 py-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-center"},this.renderNavbarLinks(c.links))))))}}]),t}(n.Component),ke=function(e){function t(){return Object(q.a)(this,t),Object(P.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,function(){var t=Oe.map(function(t,a){return r.a.createElement(n.Fragment,null,t.dropdowns?r.a.createElement(Se,{i:a,item:t,sidebarlink:xe.a.sidebarlink,changeStyle:e.props.changeStyle}):r.a.createElement("li",{className:"",key:a},r.a.createElement(z.b,{className:"nav-link text-white p-3 mb-2  ".concat(xe.a.sidebarlink," "),to:t.linkTo},r.a.createElement("i",{className:"fa ".concat(t.icon," fa-lg")}),r.a.createElement("span",{style:{fontSize:"12px"}},e.props.changeStyle?"":"".concat(t.name),t.dropdowns&&!e.props.changeStyle&&r.a.createElement("i",{className:"ni ni-bold-down ml-2"})))))});return r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"navbar-nav mt-4"},t))}())}}]),t}(n.Component),we=function(e){return null===e||void 0===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},De=a(27),Ae=le.getInstance(),Ie=function(){return function(e){Ae.get("/advertisers/single").then(function(t){e({type:"GET_SINGLE_ADVERTISER",payload:t.data.advertiser})})}},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(a){Ae.post("/advertisers/all",{filters:e,page:t}).then(function(e){a({type:"GET_ADVERTS",payload:e.data})}).catch(function(e){})}},Re=a(124),Te=function(e){var t=e.options,a=e.value,n=e.onChange,c=e.title,l=e.placeholder;return r.a.createElement("div",{className:"form-group mb-3"},r.a.createElement("select",{className:"custom-select",value:a,onChange:function(e){n(e.target.value),console.log(e.target.value)},placeholder:l,options:t},r.a.createElement("option",null,"Select ",c),t.map(function(e){return r.a.createElement("option",{value:e.value},e.key)})))},Be=a(9),Le=a.n(Be),Fe=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).onDatesChange=function(e){var t=e.startDate,n=e.endDate;a.props.dateChange(t,n)},a.onFocusChange=function(e){a.props.calendarFocusedChange(e)},a.isDayBlocked=function(e){return a.props.days.some(function(t){return Le()(t).isSame(e,"day")})},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=Le()(this.props.endDate).diff(Le()(this.props.startDate),"days")*this.props.board.board.price.normal||0;return console.log("credits",this.props.credits),r.a.createElement("div",{className:"card my-4 py-4 "},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",null,r.a.createElement(Te,{options:this.props.options,title:"advert",placeholder:"choose advert",onChange:this.props.onChange,value:this.props.advertId})),r.a.createElement("div",{className:"mx-2 px-2"},r.a.createElement(Re.DateRangePicker,{startDate:this.props.startDate,endDate:this.props.endDate,startDateId:"id-start",endDateId:"id-end",onDatesChange:this.onDatesChange,focusedInput:this.props.calendarFocused,onFocusChange:this.onFocusChange,numberOfMonths:2,showClearDates:!0,isDayBlocked:this.isDayBlocked})),r.a.createElement("div",{className:"mx-2 px-2"},r.a.createElement("button",{className:"btn",style:{borderRadius:"10px",backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"#fff"},onClick:function(){console.log("credits",e.props.credits),console.log("priceCalculate",t),100*e.props.credits>t?e.props.submitHandler():v.toastr.error("no enough credits , recharge first")},disabled:!this.props.value},"Request to Book")),r.a.createElement("div",null,r.a.createElement("span",{className:"text-center display-4 "},"Total Price : $ ","  ","   ",t,"   "))))}}]),t}(n.Component),Me=a(161),Ye=a.n(Me),qe=a(125),Ue=a.n(qe),Pe=le.getInstance(),Ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(a){Pe.post("/boards/requests",{advertiserId:e,page:t}).then(function(e){a({type:"GET_BOARDS_REQUESTED",payload:e.data})})}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){ne.a.post("".concat("https://spotads.herokuapp.com/","api/v1/boards/search"),{page:e,filters:t}).then(function(e){console.log(e),v.toastr.info("rendering boards "),a({type:"GET_BOARDS",payload:e.data})}).catch(function(){})}},ze=a(97),We=a.n(ze),Ve=function(e,t){var a=0;return e.forEach(function(e){e===t&&a++}),a},Qe=function(e){var t=e[0]+e[1]+e[2]+e[3]+e[4],a=5*e[4]+4*e[3]+3*e[2]+2*e[1]+1*e[0];return Math.floor(a/t)},Ke=function(e){e.text;return r.a.createElement("div",null,r.a.createElement("i",{className:"ni ni-pin-3",style:{color:"red",fontSize:"20px"}}))},Je={speed:1500,autoplaySpeed:2e3,slidesToShow:1,slidesToScroll:1,autoplay:!0,dots:!0,responsive:[{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},$e=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).state={startDate:null,endDate:null,advertId:null,calendarFocused:null,rating:1},a.onStarClick=function(e,t,n){a.setState({rating:e})},a.dateChange=function(e,t){a.setState({startDate:e,endDate:t})},a.giveRating=function(){a.props.giveRating(a.props.board.board._id,a.state.rating)},a.submitHandler=function(){a.props.requestSpot({startDate:Le()(a.state.startDate).toDate(),endDate:Le()(a.state.endDate).toDate(),advertId:a.state.advertId,advertiserId:a.props.advertiser._id,boardId:a.props.board.board._id,ownerId:a.props.board.board.owner})},a.onAdvertIdChange=function(e){a.setState({advertId:e})},a.calendarFocusedChange=function(e){a.setState({calendarFocused:e})},a.renderNormalDetails=function(){},a.renderPhotos=function(){return a.props.board&&a.props.board.board.photos.length>0?a.props.board.board.photos.map(function(e){return r.a.createElement("img",{src:e.url,className:"img-fluid"})}):[{url:"https://via.placeholder.com/500"},{url:"https://via.placeholder.com/500"},{url:"https://via.placeholder.com/500"},{url:"https://via.placeholder.com/500"}].map(function(e){return r.a.createElement("img",{src:e.url,className:"img-fluid"})})},a.renderTargetAudiences=function(){return a.props.board.board.targets&&a.props.board.board.targets.length>0?a.props.board.board.targets.map(function(e){return r.a.createElement("span",{className:"mx-3 px-3",style:{backgroundColor:"blue",color:"white"}},e," "," ")}):r.a.createElement("span",null,"No Target Audience Group")},a.renderSingleSpot=function(){var e;if(a.props.adverts&&(e=a.props.adverts.adverts.map(function(e){return{key:e.name,value:e._id}})),a.props.board){var t=a.props.board,n=0;if(t.board.rating.length>0){var c=Ve(t.board.rating,1),l=Ve(t.board.rating,2),s=Ve(t.board.rating,3),o=Ve(t.board.rating,4),i=Ve(t.board.rating,5);n=Qe([c,l,s,o,i])}return r.a.createElement("div",{className:"container-fluid my-3 py-3 "},r.a.createElement("div",null,r.a.createElement("h5",{className:"text-center display-3"},a.props.board.board.name)),r.a.createElement("div",{className:"my-3 py-3"},r.a.createElement(Fe,{startDate:a.state.startDate,endDate:a.state.endDate,calendarFocused:a.state.calendarFocused,calendarFocusedChange:a.calendarFocusedChange,dateChange:a.dateChange,board:a.props.board,onChange:a.onAdvertIdChange,options:e||[],value:a.state.advertId,submitHandler:a.submitHandler,credits:a.props.advertiser.payment.credit/100||0,days:a.props.days})),r.a.createElement("div",{className:"d-flex flex-start "},r.a.createElement("div",{className:"mx-3 px-3"},r.a.createElement(We.a,{name:"rate1",starCount:5,value:a.state.rating,onStarClick:a.onStarClick})),r.a.createElement("div",{className:"mx-3 px-3"},r.a.createElement("button",{className:"btn",style:{borderRadius:"10px",backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"#fff"},onClick:a.giveRating},"Give Rating"))),r.a.createElement("div",{className:"row my-3 py-3"},r.a.createElement("div",{className:"col-md-6 "},r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item"},"rating :       ",r.a.createElement(We.a,{name:"rate1",starCount:5,value:n,editing:!1}),"(",t.board.rating.length,")"),r.a.createElement("li",{className:"list-group-item"},"ID : ",a.props.board.board.id||"no id"),r.a.createElement("li",{className:"list-group-item"},"Price :  ",a.props.board.board.price?" $  ".concat(a.props.board.board.price.normal," /  day"):"no price","    "),r.a.createElement("li",{className:"list-group-item"},"Promo Price :  ",a.props.board.board.price?a.props.board.board.price.promo:"no promo","   "),r.a.createElement("li",{className:"list-group-item"},"Region : ",a.props.board.board.region||"no region","  "),r.a.createElement("li",{className:"list-group-item"},"Country : ",a.props.board.board.country||"no country","  "),r.a.createElement("li",{className:"list-group-item"}," board's width :  ",a.props.board.size||"9"," inches  "),r.a.createElement("li",{className:"list-group-item"}," board's height :  ",a.props.board.size||"6"," inches  "),r.a.createElement("li",{className:"list-group-item"},"Estimate Population : ",a.props.board.board.population||"no population","  "),r.a.createElement("li",{className:"list-group-item"},"Estimate Target Audiences : ",a.renderTargetAudiences(),"  "),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.board.description||"<p>no descriptions</p>"}})))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(Ye.a,Je,a.renderPhotos()))),r.a.createElement("div",{className:" d-flex my-4 py-5"},r.a.createElement("div",{className:"col-md-6 card shadow"},r.a.createElement("div",{className:"container my-1 py-1  "},r.a.createElement("h5",{className:"text-center display-4"},"Owner Details"),r.a.createElement("div",{className:"d-flex justify-content-center flex-column  h-100 align-items-center ",style:{letterSpacing:"1px"}},r.a.createElement("span",null,"Company :   ",t.board.owner?t.board.owner.company:"no name","  ")," ",r.a.createElement("br",null),r.a.createElement("span",null,"Phone : ",t.board.owner.phone.length>0?t.board.owner.phone[0]:"no phone"," "),"  ",r.a.createElement("br",null),r.a.createElement("span",null,"Email :  ",t.board.owner.email.length>0?t.board.owner.email[0]:"no email"," "),"  ",r.a.createElement("br",null),r.a.createElement("span",null,"Address :  ",t.board.owner.address?"".concat(t.board.owner.address.line1," "," "," ").concat(t.board.owner.address.line2):"no address"," "),"  ",r.a.createElement("br",null)))),r.a.createElement("div",{className:"col-md-6",style:{height:"400px",width:"500px"}},r.a.createElement(Ue.a,{bootstrapURLKeys:{key:"AIzaSyD9EdV2JfPG1Vfviw9gf_HlblIUfs7Ie2E"},center:{lat:t.board.location.coordinates[1],lng:t.board.location.coordinates[0]},zoom:18},r.a.createElement(Ke,{lat:t.board.location.coordinates[1],lng:t.board.location.coordinates[0]})))),r.a.createElement("div",{className:"my-1 py-1"}))}return r.a.createElement("div",null,r.a.createElement("h5",null,"Loading Spot"))},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",null,this.renderSingleSpot())}}]),t}(n.Component),Ze={requestSpot:function(e){return function(t){Pe.post("/boards/request",e).then(function(a){t(Ge(e.advertiserId,1)),v.toastr.info("you request a board"),t(Object(De.d)("/requests"))})}},giveRating:function(e,t){return function(a){Pe.post("/boards/rate",{boardId:e,rating:t}).then(function(e){a(He()),v.toastr.info("thanks for rating"),a(Object(De.d)("/spots"))}).catch(function(e){})}}},Xe=Object(s.connect)(function(e){return{board:e.boards?e.boards.board:null,adverts:e.adverts?e.adverts.adverts:[],advertiser:e.profile?e.profile.advertiser:null,days:e.boards.dates||[]}},Ze)($e),et=(function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=function(n){function c(){return Object(q.a)(this,c),Object(P.a)(this,Object(G.a)(c).apply(this,arguments))}return Object(H.a)(c,n),Object(U.a)(c,[{key:"componentDidMount",value:function(){this.props.auth(this.props.history,t,a)}},{key:"render",value:function(){return this.props.async.loading?r.a.createElement(be,null):r.a.createElement(e,Object.assign({},this.props,{user:this.props.user.userData,browser:this.props.browser}))}}]),c}(n.Component),l={auth:pe};Object(s.connect)(function(e){return{user:e.user,async:e.async,browser:e.browser,site:e.site}},l)(c)}(function(e){function t(){return Object(q.a)(this,t),Object(P.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("h4",null,"Welcome Company Name"),r.a.createElement("p",null,"this is where charts and stats will be shown in general"))}}]),t}(n.Component)),a(95)),tt=a(272),at=a(271),nt=function(e){var t=e.input,a=e.type,n=e.placeholder,c=e.prepend,l=e.logo,s=e.styleFrom,o=e.meta,i=(o.touched,o.error);return r.a.createElement("div",{className:"form-group mb-3"},r.a.createElement("div",{className:"input-group input-group-alternative "},c&&r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:l}))),r.a.createElement("input",Object.assign({type:a,className:"form-control",style:s},t,{placeholder:n}))),i&&r.a.createElement("label",{className:"",style:{color:"red",fontSize:"10px"}},i))},rt=function(e){var t=e.input,a=e.rows,n=e.styleFrom,c=e.type,l=e.placeholder,s=e.meta,o=(s.touched,s.error);return r.a.createElement("div",{className:"form-group mb-3"},r.a.createElement("div",{className:"input-group input-group-alternative"},r.a.createElement("textarea",Object.assign({type:c,className:"form-control"},t,{rows:a,placeholder:l,style:n}))),o&&r.a.createElement("label",{className:"",style:{color:"red",fontSize:"10px"}},o))},ct=a(274);var lt=function(e){return r.a.createElement("div",null,r.a.createElement(ct.a,{name:"quests",component:function(e){var t=e.fields;return r.a.createElement("div",{className:"container "},r.a.createElement("ul",{style:{listStyle:"none"}},r.a.createElement("button",{className:"btn ",style:{backgroundImage:"radial-gradient(circle 248px at center, #F0E5DE 0%, #F0E5DE  47%,  #F0E5DE 100%)"},onClick:function(){t.push("")},type:"button"},"click here for adding quest"),t.map(function(e,a){return r.a.createElement("li",{key:a,className:""},r.a.createElement(V.b,{close:!0,onClick:function(){return t.remove(a)}}),r.a.createElement("div",{className:"container card my-3 py-2 "},r.a.createElement(tt.a,{name:"".concat(e,".question"),type:"text",component:nt,placeholder:"your request words",styleFrom:{color:"black"}}),r.a.createElement(tt.a,{name:"".concat(e,".id"),type:"text",component:nt,placeholder:"unique id for your quest",styleFrom:{color:"black"}})))})))}}))},st=a(67),ot=a(292),it=a(287),dt=a.n(it),mt=(a(633),function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).state={files:[],image:{},fieldName:"",filesCropped:[],images:[],uploadSuccess:!1},a.componentWillReceiveProps=function(e){e.initialImages.length>0&&a.setState({images:Object(st.a)(e.initialImages)},function(){console.log(a.state.images)})},a.onDrop=function(e){a.setState({files:e,fileName:e[0].name})},a.cropImage=function(){"undefined"!==typeof a.refs.cropper.getCroppedCanvas()&&a.refs.cropper.getCroppedCanvas().toBlob(function(e){var t=URL.createObjectURL(e);a.setState({image:{cropResult:t,image:e}})})},a.loadImages=function(){var e;a.state.image.image&&(e=[].concat(Object(st.a)(a.state.filesCropped),[{blob:a.state.image.image,tempurl:a.state.image.cropResult}])),a.setState({filesCropped:e})},a.cancelCrop=function(){a.setState({files:[],image:{}})},a.removeImg=function(e){var t=a.state.filesCropped.filter(function(t){return t.tempurl!==e});a.setState({filesCropped:t})},a.uploadPhotos=function(){var e=a.props.input;if(a.state.filesCropped.length>0){var t=a.state.filesCropped.map(function(e){return e.blob});v.toastr.info("image","uploading please wait"),a.props.sendImages(t,function(t){a.setState(function(e,a){return{filesCropped:[],files:[],image:{},images:[].concat(Object(st.a)(t.results),Object(st.a)(e.images)),uploadSuccess:t.success}},function(){v.toastr.success("image","successfully uploaded"),e.onChange(a.state.images)})})}},a.deleteImage=function(e,t){a.props.deleteOriginalImg(e,t);var n=a.state.images.filter(function(t){return t.public_id!==e});a.setState({images:n},function(){a.props.input.onChange(a.state.images),v.toastr.warning("deleted")})},a.renderUploadedImages=function(){return a.state.images.map(function(e,t){return r.a.createElement("div",null,a.state.uploadSuccess&&r.a.createElement("i",{className:"ni ni-fat-remove",style:{cursor:"pointer",fontSize:"30px",color:"red"},onClick:function(){a.deleteImage(e.public_id,a.props.advertId)}}),r.a.createElement("br",null),r.a.createElement("img",{style:{height:"100px",width:"250px",objectFit:"scale-down"},src:e.url,alt:"Card image cap"}))})},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.initialImages),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container-fluid my-4"},r.a.createElement("h3",{className:"text-center"},"choose ads photos"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-lg-6"},r.a.createElement(ot.a,{onDrop:this.onDrop,multiple:!1},r.a.createElement("div",{style:{paddingTop:"30px",textAlign:"center"}},r.a.createElement("span",null,"please upload or drop photos here")))),r.a.createElement("div",{className:"col-md-6 col-lg-6"},this.state.files[0]&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement(dt.a,{style:{height:200,width:"100%"},ref:"cropper",src:this.state.files[0].preview,aspectRatio:this.props.upper/this.props.lower,viewMode:0,dragMode:"move",guides:!1,scalable:!1,cropBoxMovable:!0,cropBoxResizable:!0,crop:this.cropImage})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"btn-group btn-group-sm",role:"group"},r.a.createElement("button",{type:"button",class:"btn btn-secondary",onClick:function(){e.loadImages()}},"Add"),r.a.createElement("button",{onClick:function(){e.cancelCrop()},type:"button",class:"btn btn-secondary"},"Cancel"),r.a.createElement("button",{onClick:function(){e.uploadPhotos()},type:"button",class:"btn btn-danger"},"Upload All")))))),this.state.filesCropped.length>0&&r.a.createElement("h4",null,"New Images"),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",margin:"20px"}},this.state.filesCropped&&this.state.filesCropped.map(function(t){return r.a.createElement("div",null,r.a.createElement("i",{className:"ni ni-fat-remove",style:{cursor:"pointer",fontSize:"30px",color:"red"},onClick:function(){e.removeImg(t.tempurl)}}),r.a.createElement("br",null),r.a.createElement("img",{style:{height:"100px",width:"250px",objectFit:"scale-down"},src:t.tempurl,alt:"Card image cap"}))}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",margin:"20px"}},this.renderUploadedImages()))}}]),t}(n.Component)),ut={deleteOriginalImg:function(e,t){return function(a){Ae.post("/advertisers/upload/".concat(t,"/").concat(e)).then(function(e){a({})}).catch(function(e){console.log(e)})}},sendImages:function(e,t){return function(a){for(var n=new FormData,r=0;r<e.length;r++)n.append("file".concat(r),e[r]);Ae.post("/advertisers/upload",n).then(function(e){t(e.data)})}}},pt=Object(s.connect)(null,ut)(mt);var ht=function(e){return r.a.createElement("div",null,r.a.createElement(ct.a,{name:"contents.videos",component:function(e){var t=e.fields;return r.a.createElement("div",{className:"container my-3 py-3 "},r.a.createElement("ul",{style:{listStyle:"none"}},r.a.createElement("button",{className:"btn  btn-sm",style:{backgroundImage:"radial-gradient(circle 248px at center, #9B8281 0%, #9B8281  47%, #9B8281 100%)",color:"#fff"},onClick:function(){t.push("")},type:"button"},"add video link"),t.map(function(e,a){return r.a.createElement("li",{key:a,className:""},r.a.createElement(V.b,{close:!0,onClick:function(){return t.remove(a)}}),r.a.createElement("div",{className:"container card my-3 py-2 "},r.a.createElement(tt.a,{name:"".concat(e,".url"),type:"text",component:nt,placeholder:"insert video link",styleFrom:{color:"black"}})))})))}}))},ft=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).state={selected:1},a.componentWillUnmount=function(){a.props.clearForm("GET_SINGLE_ADVERT")},a.changeSelected=function(e){a.setState({selected:e})},a.renderContents=function(){return 1===a.state.selected?r.a.createElement("div",null,r.a.createElement(tt.a,{component:pt,name:"contents.images",initialImages:a.props.initialImages,productId:null,upper:14,lower:9})):2===a.state.selected?r.a.createElement("div",null,r.a.createElement("h5",{className:"text-center my-2 py-2"},"Your ad videos "),r.a.createElement(ht,null)):void 0},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.handleSubmit,n=t.submitCallBack;return r.a.createElement("form",{onSubmit:a(n)},r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"row my-1 py-1"},r.a.createElement("div",{className:"col-md-6 col-lg-6 col-sm-12"},r.a.createElement(tt.a,{component:nt,placeholder:"advert name",type:"text",name:"name"})),r.a.createElement("div",{className:"col-md-6 col-lg-6 col-sm-12"},r.a.createElement(tt.a,{component:rt,placeholder:"note",type:"text",name:"note"}))),r.a.createElement("div",{className:"row my-1 py-1"},r.a.createElement("div",{className:"col-12"},r.a.createElement(tt.a,{component:nt,placeholder:"QR code url ",type:"text",name:"qrcode"}))),r.a.createElement("h4",{className:"display-5 text-center my-2"},"Quests Creation"),r.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12"},r.a.createElement(tt.a,{component:rt,placeholder:"Quest Title (eg. we are giving promo code.please add your email below and get code)",type:"text",name:"title"})),r.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 my-2 py-2"},r.a.createElement(lt,null)),r.a.createElement("h4",{className:"display-5 my-2 py-2 text-center"},"Ads Contents Creation"),r.a.createElement("button",{class:"btn btn-icon",style:{backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"white"},type:"button",onClick:function(){e.changeSelected(1)}},r.a.createElement("span",{class:"btn-inner--icon"},r.a.createElement("i",{class:"ni ni-atom"})),"Photos"),r.a.createElement("button",{class:"btn btn-icon ",style:{backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"white"},type:"button",onClick:function(){e.changeSelected(2)}},r.a.createElement("span",{class:"btn-inner--icon"},r.a.createElement("i",{class:"ni ni-atom"})),"videos"),this.renderContents(),r.a.createElement("button",{className:"btn  my-2 py-2",style:{backgroundImage:"radial-gradient(circle 248px at center, #F0E5DE 0%, #F0E5DE  47%,  #F0E5DE 100%)"},type:"submit"},this.props.initialValues?"Edit Advert":"Create Advert")))}}]),t}(r.a.Component),gt=Object(at.a)({form:"create-advert",destroyOnUnmount:!0,validate:function(e){var t={};return e.qrcode||(t.qrcode="qrcode is required"),e.name||(t.name="ads name is required"),e.title||(t.title="title is required"),e.note||(t.note="note is required"),t}})(ft),vt=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).submitHandler=function(e){if(a.props.advert)a.props.editAdvert(a.props.advert._id,e);else{var t=Object(d.a)({},e,{advertiser:a.props.advertiser});a.props.createAdvert(t)}},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return console.log(this.props.advert),r.a.createElement("div",null,r.a.createElement(gt,{submitCallBack:this.submitHandler,initialValues:this.props.advert,clearForm:this.props.clearForm,initialImages:this.props.advert?this.props.advert.contents.images:[]}))}}]),t}(n.Component),Et={createAdvert:function(e){return function(t){Ae.post("/advertisers/advert/create",e).then(function(e){v.toastr.success("success"),t(_e()),t(Object(De.d)("/adverts"))}).catch(function(){})}},clearForm:function(e){return function(t){t({type:e,payload:null})}},editAdvert:function(e,t){return function(a){Ae.post("/advertisers/advert/edit",{advertId:e,advert:t}).then(function(e){a(_e()),v.toastr.info("edited"),a(Object(De.d)("/adverts"))})}}},bt=Object(s.connect)(function(e){return{advertiser:e.user.userData?e.user.userData.advertiser._id:null,advert:we(e.adverts)?null:e.adverts.advert}},Et)(vt),yt=function(e){function t(){return Object(q.a)(this,t),Object(P.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container my-4 py-4"},r.a.createElement("h4",{className:"text-center display-4 my-2 py-2"},"Create your advert"),r.a.createElement(bt,null))}}]),t}(n.Component),Nt=function(e){function t(){return Object(q.a)(this,t),Object(P.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e,t,a,n,c=this.props,l=c.items,s=c.isActiveColor,o=c.submitCallback;l&&(e=l.lastPage,t=l.hasNextPage,a=l.hasPreviousPage,n=l.currentPage);return r.a.createElement("div",null,r.a.createElement(V.t,{"aria-label":"Page navigation example"},a&&r.a.createElement(V.u,null,r.a.createElement(V.v,{previous:!0,onClick:function(){l&&o(null,l.currentPage-1)}})),function(){if(e)return Array.from(Array(e),function(e,t){var a;return a=t+1===n?"".concat(s):"transparent",r.a.createElement(V.u,null,r.a.createElement(V.v,{style:{backgroundColor:a},onClick:function(){l&&o(null,t+1)}},t+1))})}(),t&&r.a.createElement(V.u,null,r.a.createElement(V.v,{next:!0,onClick:function(){l&&o(null,l.currentPage+1)}}))))}}]),t}(n.Component),Ct=function(e){var t=e.input,a=(e.type,e.placeholder),n=e.multiple,c=e.options,l=e.meta,s=(l.touched,l.error);return r.a.createElement("div",{className:"form-group mb-3"},r.a.createElement("select",{className:"custom-select",value:t.value,onChange:function(e){t.onChange(e.target.value)},multiple:n,placeholder:a,options:c},r.a.createElement("option",null,"Select ",t.name),c.map(function(e){return r.a.createElement("option",{value:e.value},e.key)})),s&&r.a.createElement("label",{className:"",style:{color:"red",fontSize:"10px"}},s))};var Ot=Object(at.a)({form:"filters-adverts"})(function(e){var t=e.submitCallBack,a=e.handleSubmit;return r.a.createElement("form",{onSubmit:a(t)},r.a.createElement("div",{className:"d-flex flex-row "},r.a.createElement("div",{className:"mx-2"},r.a.createElement(tt.a,{component:Ct,name:"status",options:[{key:"IDLE",value:"IDLE"},{key:"SCHEDULED",value:"SCHEDULED"}]})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn  btn-dark "},"Filter"))))}),jt=function(e){function t(){return Object(q.a)(this,t),Object(P.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ot,{submitCallBack:this.props.submitCallBack}))}}]),t}(n.Component),xt=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).state={isSpotDataShown:!1,modal:!1},a.toggleSpotContent=function(){a.setState(function(e){return{isSpotDataShown:!e.isSpotDataShown}})},a.toggle=function(){a.setState(function(e){return{modal:!e.modal}})},a.renderLabel=function(){var e=a.props.advert.status,t="red";return"RUNNING"===e&&(t="green"),r.a.createElement("span",{style:{backgroundColor:t,color:"white",letterSpacing:"2px",padding:"5px"}},"".concat(e))},a.renderListTable=function(){var e=a.props.lists;return r.a.createElement(V.y,{striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"board"),r.a.createElement("th",null,"from"),r.a.createElement("th",null,"to"))),r.a.createElement("tbody",null,e&&e.length>0?e.map(function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,e.board.name),r.a.createElement("td",null,Le()(e.from).format("DD MM YYYY")),r.a.createElement("td",null,Le()(e.to).format("DD MM YYYY")))}):r.a.createElement("div",null,r.a.createElement("h3",null,"No History for now"))))},a.renderSpotContents=function(){return r.a.createElement("div",null,r.a.createElement(V.m,{isOpen:a.state.modal,toggle:a.toggle},r.a.createElement(V.p,{toggle:a.toggle},"Board Lists History"),r.a.createElement(V.n,null,a.renderListTable()),r.a.createElement(V.o,null,r.a.createElement(V.b,{color:"secondary",onClick:a.toggle},"Cancel"))))},a.renderNote=function(){var e=a.props.advert;if(e)return r.a.createElement("span",{className:"mx-2 px-2"},e.note)},a.renderDate=function(){var e=a.props.advert;if(e)return r.a.createElement("span",{className:"mx-2 px-2"},Le()(e.createdAt).format("YYYY-MM-DD"))},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=this.props.advert;return r.a.createElement(V.d,{className:"my-2 py-2 shadow-lg"},r.a.createElement(V.f,null,"".concat(t.name),"  ",this.renderLabel(),r.a.createElement("div",{className:"float-right"},r.a.createElement(V.c,null,r.a.createElement(V.b,{style:{backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"white"},onClick:function(){e.props.getSingleAdvert(t._id)}},r.a.createElement("span",{class:"btn-inner--icon"},r.a.createElement("i",{class:"ni ni-settings"}))),r.a.createElement(V.b,{style:{backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"white"},onClick:function(){e.props.deleteAdvert(t._id)}},r.a.createElement("span",{class:"btn-inner--icon"},r.a.createElement("i",{class:"ni ni-fat-remove",style:{fontSize:"15px"}})))))),r.a.createElement(V.e,null,r.a.createElement("div",{className:"container my-3 py-3"},r.a.createElement("div",{className:"d-flex flex-row justify-content-around"},r.a.createElement("div",null,r.a.createElement("i",{class:"fas fa-calendar-day"}),this.renderDate()),r.a.createElement("div",null,r.a.createElement("i",{class:"fas fa-book-open"}),this.renderNote()))),r.a.createElement("div",{className:"container my-3 py-3"},r.a.createElement(V.g,{style:{fontWeight:"bold"}},"Contents"),r.a.createElement(V.a,{style:{backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"white"},pill:!0}," Images ","  "," ",t.contents?t.contents.images.length:"counting"),r.a.createElement(V.a,{style:{backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"white"},pill:!0}," Videos ","  "," ",t.contents?t.contents.videos.length:"counting")),r.a.createElement("div",{style:{borderBottom:"1px solid grey"}}),r.a.createElement("div",{className:"container my3 py-3"},r.a.createElement(V.g,{style:{fontWeight:"bold"}},"Quests"),r.a.createElement(V.a,{style:{backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"white"},pill:!0}," Quests ","  "," ",t?t.quests.length:"counting")),r.a.createElement("div",{style:{borderBottom:"1px solid grey"}}),r.a.createElement("div",{className:"container my3 py-3"},r.a.createElement(V.g,{style:{fontWeight:"bold"}},"Advertisers"),r.a.createElement("span",null,"Name : ",t?t.advertiser.company:"rendering")),r.a.createElement("div",{style:{borderBottom:"1px solid grey"}}),r.a.createElement("div",{className:"container my-3 py-3"},r.a.createElement("button",{className:"btn btn-icon",type:"button",onClick:function(){e.toggle(),e.props.getSpotListsByAds(t._id)},style:{backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"white"}},r.a.createElement("span",{className:"btn-inner--icon"},r.a.createElement("i",{className:"ni ni-bold-down",style:{fontSize:"20px"}})),r.a.createElement("span",{className:"btn-inner--text"},"Click to check Spot Placement")),r.a.createElement("div",{className:" text-center my-3 py-3"},this.renderSpotContents()))))}}]),t}(n.Component),St={getSpotListsByAds:function(e){return function(t){Ae.post("/advertisers/spotlists",{advertId:e}).then(function(e){t({type:"SPOT_LISTS",payload:e.data.schedules})}).catch(function(){v.toastr.error("something wrong with finding spot lists")})}}},kt=Object(s.connect)(function(e){return{lists:e.adverts?e.adverts.lists:null}},St)(xt),wt=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).submitHandler=function(e,t){a.props.getAdverts(e,t)},a.renderCards=function(){var e=a.props.adverts;return(e?e.adverts:[]).map(function(e){return r.a.createElement(kt,{advert:e,deleteAdvert:a.props.deleteAdvert,getSingleAdvert:a.props.getSingleAdvert})})},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props.adverts?this.props.adverts.totalItems:0;return r.a.createElement("div",{className:"container my-2 py-2"},r.a.createElement("p",{className:"text-center",style:{fontWeight:"bold"}},"Total Adverts : ","".concat(e)," "),r.a.createElement("div",{className:"container card my-2 py-2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6 col-md-6"},r.a.createElement(jt,{submitCallBack:this.submitHandler})),r.a.createElement("div",{className:"col-lg-6 col-md-6"},r.a.createElement(Nt,{items:this.props.adverts?this.props.adverts:[],submitCallback:this.submitHandler})))),r.a.createElement("div",{className:"container"},this.props.adverts?this.renderCards():r.a.createElement("h4",{className:"text-center my-3 py-3"},"Loading Please wait")))}}]),t}(n.Component),Dt={getAdverts:_e,deleteAdvert:function(e){return function(t){Ae.post("/advertisers/advert/delete/".concat(e)).then(function(e){t(_e()),v.toastr.info("deleted an advert")})}},getSingleAdvert:function(e){return function(t){Ae.get("/advertisers/advert/".concat(e)).then(function(e){t({type:"GET_SINGLE_ADVERT",payload:e.data.advert}),t(Object(De.d)("/adverts/create"))}).catch(function(e){console.log(e.response.data)})}}},At=Object(s.connect)(function(e){return{adverts:e.adverts?e.adverts.adverts:null}},Dt)(wt),It=function(e){function t(){return Object(q.a)(this,t),Object(P.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(At,{getAdverts:this.props.getAdverts}))}}]),t}(n.Component),_t=function(e){function t(){return Object(q.a)(this,t),Object(P.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.props.getAdverts()}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"text-center display-3 my-2 py-2"},"Adverts Management"),r.a.createElement(et.a,null),r.a.createElement("div",{className:"my-2 py-2"},r.a.createElement(V.q,{pills:!0},r.a.createElement("li",{className:"nav-item  rounded-circle active"},r.a.createElement(z.b,{to:"/adverts/create",className:"nav-link",style:{backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"white"}},"Create Advert")),r.a.createElement("li",{className:"nav-item  rounded-circle active"},r.a.createElement(z.b,{to:"/adverts",className:"nav-link",style:{backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"white"}},"All Adverts")))),r.a.createElement(W.c,null,r.a.createElement(W.a,{exact:!0,path:"/adverts",component:It,getAdverts:this.props.getAdverts}),r.a.createElement(W.a,{path:"/adverts/create",component:yt}))))}}]),t}(n.Component),Rt=function(e){function t(){return Object(q.a)(this,t),Object(P.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props;e.board,e.text,e.lat,e.lng;return r.a.createElement("div",{className:"bg-primary"},r.a.createElement("i",{className:"fas fa-tv",style:{color:"red",fontSize:"20px"}}))}}]),t}(n.Component),Tt=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).renderMarkers=function(){return console.log(a.props.boards),a.props.boards&&a.props.boards.boards?a.props.boards.boards.map(function(e){return console.log("lat",e.location.coordinates[1]),console.log("lng",e.location.coordinates[0]),r.a.createElement(Rt,{lat:e.location.coordinates[1],lng:e.location.coordinates[0],text:e.price.normal})}):r.a.createElement("div",null," No Map render")},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:" container-fluid"},r.a.createElement("div",{style:{width:"1000px",height:"380px"}},r.a.createElement(Ue.a,{bootstrapURLKeys:{key:"AIzaSyD9EdV2JfPG1Vfviw9gf_HlblIUfs7Ie2E"},center:this.props.center,zoom:this.props.zoom},this.renderMarkers())))}}]),t}(n.Component),Bt=a(126),Lt=a.n(Bt),Ft=(n.Component,a(735),a(66)),Mt=a.n(Ft),Yt=(a(739),function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={scriptLoaded:!1,address:""},a.handleScriptLoaded=function(){a.setState({scriptLoaded:!0})},a.onDatesChange=function(e){var t=e.startDate,n=e.endDate;a.props.handleFilters({start:t,end:n},"daterange")},a.onFocusChange=function(e){a.props.calendarFocusedChange(e)},a.handleChange=function(e){a.setState({address:e})},a.handleSelect=function(e){Object(Ft.geocodeByAddress)(e).then(function(e){return Object(Ft.getLatLng)(e[0])}).then(function(e){return console.log("Success",e)}).catch(function(e){return console.error("Error",e)})},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement(Mt.a,{value:this.props.address,onChange:this.props.handleChange,onSelect:this.props.handleSelect},function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,c=e.loading;return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",t({placeholder:"type your city and search boards around city",className:"location-search-input form-control"})),r.a.createElement("div",{className:"autocomplete-dropdown-container"},c&&r.a.createElement("div",null,"Loading..."),a.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",n(e,{className:t,style:a}),r.a.createElement("span",null,e.description))})))})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(Re.DateRangePicker,{startDate:this.props.startDate,endDate:this.props.endDate,startDateId:"id-start",endDateId:"id-end",onDatesChange:this.onDatesChange,focusedInput:this.props.calendarFocused,onFocusChange:this.onFocusChange,numberOfMonths:2})),r.a.createElement("div",{className:"col-md-3 col-lg-3"},r.a.createElement("span",null,"Price"),r.a.createElement(Lt.a,{maxValue:1e3,minValue:0,value:this.props.value,onChange:this.props.priceChange}))),r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"px-2 mx-2"},r.a.createElement("button",{className:"btn",style:{borderRadius:"10px",backgroundImage:"radial-gradient(circle 248px at center, #9B8281 0%, #9B8281  47%, #9B8281 100%)",color:"#fff"},onClick:function(){e.props.showFilteredResults()}},"Search")),r.a.createElement("div",{className:"px-2 mx-2"},r.a.createElement("button",{className:"btn",style:{borderRadius:"10px",color:"#fff",backgroundImage:"radial-gradient(circle 248px at center, #9B8281 0%, #9B8281  47%, #9B8281 100%)"},onClick:function(){e.props.resetAll()}},"Reset")))))}}]),t}(n.Component));var qt=function(e){var t=e.board,a=e.getSingleBoard,n=e.getDatesFromBoard,c=0;if(t.rating.length>0){var l=Ve(t.rating,1),s=Ve(t.rating,2),o=Ve(t.rating,3),i=Ve(t.rating,4),d=Ve(t.rating,5);c=Qe([l,s,o,i,d])}return r.a.createElement("div",{className:"col-md-4 col-lg-4 col-sm-4 mb-2"},r.a.createElement("div",{className:"card shadow"},r.a.createElement("img",{src:t.photos.length>0?t.photos[0].url:"https://via.placeholder.com/300",className:"card-img-top",alt:"..."}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.name),r.a.createElement("div",null,r.a.createElement(We.a,{name:"rate2",editing:!1,starCount:5,value:c})," (",t.rating.length>0?t.rating.length:0,")")),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},"Price :    ",t.price?" $ ".concat(t.price.normal):"no price"),r.a.createElement("li",{className:"list-group-item"},"Region : ",t.region),r.a.createElement("li",{className:"list-group-item"},"Owner : ",t.owner.company)),r.a.createElement("div",{className:"card-body"},r.a.createElement("button",{onClick:function(){a(t._id),n(t._id)},href:"#",className:"btn",style:{color:"white",backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)"}}," Book or Check Details")),r.a.createElement("div",{className:"card-footer  ",style:{color:"white",backgroundImage:"radial-gradient(circle 248px at center, #DE7E73 0%, #DE7E73  47%, #DE7E73 100%)"}},"launched at  ",Le()(t.createdAt).fromNow())))},Ut=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).renderCards=function(){var e=a.props.boards.boards;return e?e.map(function(e){return r.a.createElement(qt,{board:e,getSingleBoard:a.props.getSingleBoard,getDatesFromBoard:a.props.getDatesFromBoard})}):r.a.createElement("div",{className:"text-center display-3"},r.a.createElement("h2",null,"Loading Spots"))},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return this.props.loading?r.a.createElement("p",null,"Loading spots"):r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",null,r.a.createElement(Nt,{items:this.props.boards?this.props.boards:[],submitCallback:this.props.paginateHandler})),r.a.createElement("div",{className:"row"},this.renderCards()))}}]),t}(n.Component),Pt=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={page:1,startDate:null,endDate:null,address:"",calendarFocused:null,filters:{price:[],coordinates:[],daterange:[]}},a.getPriceMinMax=function(e){return{value:{min:e[0]||0,max:e[1]||1e3}}},a.calendarFocusedChange=function(e){a.setState({calendarFocused:e})},a.handleChange=function(e){a.setState({address:e})},a.handleSelect=function(e){Object(Ft.geocodeByAddress)(e).then(function(e){return Object(Ft.getLatLng)(e[0])}).then(function(e){a.handleFilters(e,"coordinates")}).catch(function(e){return console.error("Error",e)})},a.paginateHandler=function(e,t){a.setState({page:t},function(){a.showFilteredResults(t,a.state.filters)})},a.resetAll=function(){a.setState({page:1,startDate:null,endDate:null,address:"",calendarFocused:null,filters:{price:[],coordinates:[],daterange:[]}},function(){a.showFilteredResults(1,a.state.filters)})},a.showFilteredResults=function(e,t){a.props.getBoards(a.state.page,a.state.filters)},a.handleDateRange=function(e){var t=[Le()(e.start).format(),Le()(e.end).format()];return a.setState({startDate:e.start,endDate:e.end},function(){}),t},a.handlePrice=function(e){return[e.min,e.max]},a.priceChange=function(e){a.handleFilters(e,"price")},a.handleFilters=function(e,t){var n=Object(d.a)({},a.state.filters);if(n[t]=e,"price"===t){var r=a.handlePrice(e);n[t]=r}if("daterange"===t){var c=a.handleDateRange(e);n[t]=c}if("coordinates"===t){var l=[e.lng,e.lat];n[t]=l}a.setState({filters:n})},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.props.getBoards()}},{key:"render",value:function(){return r.a.createElement("div",{className:"my-5 py-5"},r.a.createElement("div",{className:"my-3 py-3"},r.a.createElement(Yt,{handleFilters:this.handleFilters,startDate:this.state.startDate,endDate:this.state.endDate,calendarFocused:this.state.calendarFocused,calendarFocusedChange:this.calendarFocusedChange,address:this.state.address,handleSelect:this.handleSelect,handleChange:this.handleChange,value:{min:this.state.filters.price[0]||0,max:this.state.filters.price[1]||1e3},priceChange:this.priceChange,showFilteredResults:this.showFilteredResults,resetAll:this.resetAll})),r.a.createElement("div",{className:"container-fluid "},r.a.createElement("div",{className:""},r.a.createElement(Tt,{boards:this.props.boards||[],center:{lng:this.state.filters.coordinates[0]||10.1815,lat:this.state.filters.coordinates[1]||36.8065},zoom:14}))),r.a.createElement("div",{className:"my-3 py-3"},r.a.createElement(Ut,{boards:this.props.boards||[],loading:this.props.loading,paginateHandler:this.paginateHandler,getSingleBoard:this.props.getSingleBoard,getDatesFromBoard:this.props.getDatesFromBoard})))}}]),t}(n.Component),Gt={getBoards:He,getSingleBoard:function(e){return function(t){ne.a.get("".concat("https://spotads.herokuapp.com/","api/v1/boards/single/").concat(e)).then(function(e){t({type:"GET_SINGLE_BOARD",payload:e.data}),t(Object(De.d)("/single"))}).catch(function(){})}},getDatesFromBoard:function(e){return function(t){Pe.get("/boards/dates/".concat(e)).then(function(e){t({type:"GET_DATES",payload:e.data.dates})}).catch(function(e){})}}},Ht=Object(s.connect)(function(e){return{boards:we(e.boards)?null:e.boards.boards,loading:e.async.loading}},Gt)(Pt),zt=function(e){function t(){return Object(q.a)(this,t),Object(P.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Favorites"))}}]),t}(n.Component),Wt=function(e){function t(){return Object(q.a)(this,t),Object(P.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement(W.c,null,r.a.createElement(W.a,{exact:!0,path:"/spots",component:Ht}),r.a.createElement(W.a,{path:"/spots/favorite",component:zt}))))}}]),t}(n.Component),Vt=Object(s.connect)()(Wt),Qt=a(288),Kt=a.n(Qt),Jt=function(e){function t(){return Object(q.a)(this,t),Object(P.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(Kt.a,{token:this.props.onToken,stripeKey:"pk_test_0yB66l32DERu39byDb56CTHc",allowRememberMe:!0,name:"SpotAds",description:"recharge credits for ads ",email:"wafa@spotads.live"}))}}]),t}(n.Component);var $t=Object(at.a)({form:"edit-user"})(function(e){var t=e.handleSubmit,a=e.submitCallBack;return r.a.createElement("form",{onSubmit:t(a)},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 col-lg-4"},r.a.createElement(tt.a,{component:nt,name:"username",type:"text"})),r.a.createElement("div",{className:"col-md-4 col-lg-4"},r.a.createElement(tt.a,{component:nt,name:"email",type:"text"})),r.a.createElement("div",{className:"col-md-4 col-lg-4"},r.a.createElement(tt.a,{component:nt,name:"password",type:"password",placeholder:"enter new password"}))),r.a.createElement("button",{type:"submit",className:"btn btn-block ",style:{backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"#fff"}},"Change")))}),Zt=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={activeTab:"1",amount:0},a.submitHandler=function(e){a.props.editUser(e)},a.toggle=function(e){a.state.activeTab!==e&&a.setState({activeTab:e})},a.inputChangeHandler=function(e){e.persist(),console.log("in callback"),console.log(e.target.value),a.setState(function(t,a){return console.log("in async callback"),console.log({isNull:null===e.target}),console.log(e.target.value),{amount:e.target.value}})},a.onToken=function(e){var t;a.props.stripeCheckOut({amount:(t=a.state.amount,100*t),description:"recharge credits",source:e.id,currency:"USD",advertiserId:a.props.advertiser})},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"componentWillUnmount",value:function(){this.setState({amount:0})}},{key:"render",value:function(){var e,t,a=this;return this.props.user&&(e=this.props.user.username,t=this.props.user.email),console.log(this.props.advertiser),r.a.createElement("div",{className:"container"},r.a.createElement("h5",{className:"text-center display-4"},"User Account"),r.a.createElement("div",{className:"my-3 py-3"},r.a.createElement($t,{submitCallBack:this.submitHandler,initialValues:{email:t,username:e}})),r.a.createElement("div",{className:"my-3 py-3"},r.a.createElement("h4",{className:"text-center display-4 my-2 py-2"},"Top Up your credits here"),r.a.createElement("div",{className:"form-group my-2 py-2"},r.a.createElement("div",{className:"input-group mb-4"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-hand-holding-usd"}))),r.a.createElement("input",{className:"form-control",placeholder:"enter your credit amount u want to add",type:"number",name:"amount",onChange:this.inputChangeHandler})))),r.a.createElement("div",null,r.a.createElement(V.q,{tabs:!0},r.a.createElement(V.r,null,r.a.createElement(V.s,{className:"".concat("1"===this.state.activeTab&&"active"),onClick:function(){a.toggle("1")}},r.a.createElement("i",{class:"far fa-credit-card"}),"  credit cards"))),r.a.createElement(V.w,{activeTab:this.state.activeTab},r.a.createElement(V.x,{tabId:"1"},r.a.createElement("div",{className:"my-4 py-4"},r.a.createElement(Jt,{onToken:this.onToken}))))))}}]),t}(n.Component),Xt={stripeCheckOut:function(e){return function(t){Ae.post("/advertisers/stripe",e).then(function(e){v.toastr.success("successfuly recharge credits"),t(Ie())}).catch(function(){v.toastr.error("something wrong with recharging credits")})}}},ea=Object(s.connect)(function(e){return{advertiser:e.user.userData.isAuth?e.user.userData.advertiser._id:null}},Xt)(Zt),ta=a(169);var aa=function(e){return r.a.createElement("div",null,r.a.createElement(ct.a,{name:"email",component:function(e){var t=e.fields;return r.a.createElement("div",{className:"container my-3 py-3 "},r.a.createElement("ul",{style:{listStyle:"none"}},r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){t.push("")},type:"button"},"click to add email"),t.map(function(e,a){return r.a.createElement("li",{key:a,className:""},r.a.createElement(V.b,{close:!0,onClick:function(){return t.remove(a)}}),r.a.createElement("div",{className:"container card my-3 py-2 "},r.a.createElement(tt.a,{name:"".concat(e),type:"text",component:nt,placeholder:"click to add email",styleFrom:{color:"black"}})))})))}}))};var na=function(e){return r.a.createElement("div",null,r.a.createElement(ct.a,{name:"phone",component:function(e){var t=e.fields;return r.a.createElement("div",{className:"container my-3 py-3 "},r.a.createElement("ul",{style:{listStyle:"none"}},r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){t.push("")},type:"button"},"click to add phone number"),t.map(function(e,a){return r.a.createElement("li",{key:a,className:""},r.a.createElement(V.b,{close:!0,onClick:function(){return t.remove(a)}}),r.a.createElement("div",{className:"container card my-3 py-2 "},r.a.createElement(tt.a,{name:"".concat(e),type:"text",component:nt,placeholder:"click to add phone number",styleFrom:{color:"black"}})))})))}}))},ra=function(e){function t(){return Object(q.a)(this,t),Object(P.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.submitCallBack,n=e.selectRegion,c=e.selectCountry,l=e.country,s=e.region;return console.log(this.props.initialValues),r.a.createElement("div",{className:"container my-3 py-3"},r.a.createElement("form",{onSubmit:t(a)},r.a.createElement("div",{className:"col-12"},r.a.createElement(tt.a,{component:nt,name:"company",placeholder:"company",type:"text"})),r.a.createElement("div",{className:"row my-2 py-2"},r.a.createElement("div",{className:"col-lg-6 col-md-6"},r.a.createElement(tt.a,{component:rt,name:"address.line1",placeholder:"line 1",type:"text"})),r.a.createElement("div",{className:"col-lg-6 col-md-6"},r.a.createElement(tt.a,{component:rt,name:"address.line2",placeholder:"line 2"})),r.a.createElement("div",{className:"col-lg-4 col-md-4"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6 col-sm-12 mb-2"},r.a.createElement(ta.a,{value:l,onChange:function(e){return c(e)},classes:"custom-select"})),r.a.createElement("div",{className:"col-lg-6 col-sm-12"},r.a.createElement(ta.b,{country:l,value:s,onChange:function(e){return n(e)},classes:"custom-select",showDefaultOption:!0}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-lg-6"},r.a.createElement(aa,null)),r.a.createElement("div",{className:"col-md-6 col-lg-6"},r.a.createElement(na,null))),r.a.createElement("button",{className:"btn  btn-block",style:{backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"#fff"}},"Edit Profile")))}}]),t}(n.Component),ca=Object(at.a)({form:"create-profile"})(ra),la=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={country:"Tunisia",region:"Tunis"},a.submitHandler=function(e){var t={address:{line1:e.address.line1,line2:e.address.line2,country:a.state.country,region:a.state.region},phone:e.phone,email:e.email,company:e.company};a.props.createProfile(e._id,t)},a.selectCountry=function(e){a.setState({country:e})},a.selectRegion=function(e){a.setState({region:e})},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container text-center"},r.a.createElement("h4",{className:"text-center display-4"},"Advertiser Profile"),r.a.createElement("span",{className:"text-center"},"You need profile for showing your emails , address , phone number when you set your ads in display screen boards. so that users can get in touch with u or follow up for your ads if they are interested"),r.a.createElement(ca,{submitCallBack:this.submitHandler,initialValues:this.props.advertiser,selectCountry:function(t){e.selectCountry(t)},selectRegion:function(t){e.selectRegion(t)},country:this.state.country,region:this.state.region}))}}]),t}(n.Component),sa={createProfile:function(e,t){return console.log("data",t),function(a){Ae.post("/advertisers/profile/create",Object(d.a)({advertiserId:e},t)).then(function(e){v.toastr.info("edit the profile"),a(Ie())})}}},oa=Object(s.connect)(function(e){return{advertiser:we(e.profile)?null:e.profile.advertiser}},sa)(la),ia=function(e){function t(){return Object(q.a)(this,t),Object(P.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Where Contact Information will live"))}}]),t}(n.Component),da=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).state={name:null},a.inputChangeHandler=function(e){e.persist(),console.log("in callback"),console.log(e.target.value),a.setState(function(t,a){return console.log("in async callback"),console.log({isNull:null===e.target}),console.log(e.target.value),{name:e.target.value}})},a.renderSchedules=function(){var e=a.props.requests;return console.log("requests",e),e&&e.schedules.length>0?e.schedules.map(function(e){var t,n=Le()(e.from).format("DD MM YYYY"),c=Le()(e.to).format("DD MM YYYY");return r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"card border-light mb-3",style:{maxWidth:"18rem"}},r.a.createElement("div",{className:"card-header"},e.board.name||"no name"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Status : ",e.rejected?"rejected":"pending"),r.a.createElement("h5",{className:"card-title"}," ",r.a.createElement("i",{class:"fas fa-dollar-sign"}),"   ",(t=e.board.price.normal,Le()(e.to).diff(Le()(e.from),"days")*t)),r.a.createElement("h5",{className:"card-title"},"Start :  ",r.a.createElement("i",{className:"far fa-calendar-alt"}),"  ",n),r.a.createElement("h5",{className:"card-title"},"End :  ",r.a.createElement("i",{className:"far fa-calendar-alt"}),"  ",c),r.a.createElement("h5",{className:"card-title"},"Your Ads :    ",e.advert.name),r.a.createElement("p",{className:"card-text"},e.advert.note)),r.a.createElement("div",{className:"card-footer bg-transparent border-success"},r.a.createElement("button",{className:"btn",style:{borderRadius:"10px",backgroundImage:"radial-gradient(circle 248px at center, #9DC3C1 0%, #9DC3C1  47%, #9DC3C1 100%)",color:"white"},onClick:function(){a.props.redirectChatRoom(e)}},r.a.createElement("i",{className:"far fa-comments"})," Chat with Owner")),r.a.createElement("div",{className:"card-footer bg-transparent border-success"},r.a.createElement("button",{className:"btn",style:{borderRadius:"10px",backgroundImage:"radial-gradient(circle 248px at center, #DE7E73 0%, #DE7E73 47%, #DE7E73 100%)",color:"white"},onClick:function(){a.props.deleteRequest(e._id,e.advertiser._id)}},r.a.createElement("i",{className:"far fa-trash-alt"})," Delete Request"))))}):r.a.createElement("div",null,"No  Ads Requests for now.")},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.props.getBoardsRequested(this.props.advertiser)}},{key:"render",value:function(){var e=this;return console.log("requestsIn",this.props.requests),r.a.createElement("div",{className:"container-fluid text-center"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h4",{className:"display-4"},"Pending Ads Requested"),r.a.createElement("p",null,"Accepted ads will be moved into ",r.a.createElement(z.a,{to:"/schedules"}," scheduled ads section "),". or chat with owner if you have questions for spot.")),r.a.createElement("div",{className:"row my-2 py-2"},r.a.createElement("div",{className:"col-md-10 col-sm-12 py-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group mb-4"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"ni ni-zoom-split-in"}))),r.a.createElement("input",{className:"form-control",placeholder:"Search ads requests by name",type:"text",name:"name",onChange:this.inputChangeHandler})))),r.a.createElement("div",{className:"col-md-2 col-sm-12  py-2"},r.a.createElement("button",{className:"btn",style:{backgroundImage:"radial-gradient(circle 248px at center, #F7AA97 0%, #F7AA97  47%, #F7AA97 100%)",color:"#fff"},onClick:function(){e.props.searchBoardRequested(e.props.advertiser,1,e.state.name)}},"Search"))),r.a.createElement("div",{className:"card-deck row"},this.renderSchedules()))}}]),t}(n.Component),ma={getBoardsRequested:Ge,redirectChatRoom:function(e){return function(t){t({type:"GET_SINGLEBOARD_REQUESTS",payload:e}),t(Object(De.d)("/singleboard"))}},deleteRequest:function(e,t){return function(a){Pe.post("/boards/delete",{scheduleId:e}).then(function(e){v.toastr.info("delete a request"),a(Ge(t,1))}).catch(function(e){console.log(e)})}},searchBoardRequested:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;return function(n){v.toastr.info("searching"),Pe.post("/boards/requests",{advertiserId:e,page:t,text:a}).then(function(e){n({type:"GET_BOARDS_REQUESTED",payload:e.data})})}}},ua=Object(s.connect)(function(e){return{advertiser:e.profile?e.profile.advertiser._id:null,requests:e.boards.requests||null}},ma)(da),pa=a(289),ha=a.n(pa);var fa=Object(at.a)({form:"create-message"})(function(e){var t=e.handleSubmit,a=e.submitCallBack;return r.a.createElement("form",{onSubmit:t(a)},r.a.createElement("div",{className:"row my-2 py-2 card shadow mx-2 px-2"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement(tt.a,{component:rt,name:"message",placeholder:"your message"})),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("button",{className:"btn",type:"submit",style:{backgroundImage:"radial-gradient(circle 248px at center, #F7AA97 0%, #F7AA97  47%, #F7AA97 100%)",color:"#fff"}},"Send"))))}),ga=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).submitHandler=function(e){console.log("currentUser",a.props.currentUser),console.log("currentRoon",a.props.currentRoom),a.props.currentRoom&&a.props.currentUser&&a.props.sendMessage(a.props.currentUser,a.props.currentRoom,e)},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"".concat(ha.a.messageBoxWrapper," m-2 p-2")},r.a.createElement(fa,{submitCallBack:this.submitHandler}))}}]),t}(n.Component),va=a(55),Ea=a.n(va),ba=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).renderMessages=function(){var e=a.props,t=e.messages,n=e.advertiser;return t.length>0?t.map(function(e){if(n)return e.senderId===n._id?r.a.createElement("div",{className:"".concat(Ea.a.container)},r.a.createElement("img",{src:"https://via.placeholder.com/150",alt:"Avatar"}),r.a.createElement("p",null,e.text),r.a.createElement("span",{className:"".concat(Ea.a.timeRight)},Le()(e.updatedAt).format("DD MM YYYY H A"))):r.a.createElement("div",{className:"".concat(Ea.a.container," ").concat(Ea.a.darker)},r.a.createElement("img",{src:"https://via.placeholder.com/150",alt:"Avatar",className:"".concat(Ea.a.imgRight)}),r.a.createElement("p",null,e.text),r.a.createElement("span",{className:"".concat(Ea.a.timeLeft)},Le()(e.updatedAt).format("DD MM YYYY H A")))}):r.a.createElement("div",{className:"text-center my-2 py-2"},r.a.createElement("h4",null,"Loading messages wait a moment or there are no messages at all."))},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"".concat(Ea.a.ListsWrapper," my-2 py-2 card mx-2 px-2")},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"text-center"},this.props.schedule.board.name||"owner")),this.renderMessages())}}]),t}(n.Component),ya=a(290),Na=a.n(ya),Ca=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={messages:[],currentRoom:null,currentUser:null,isLoading:!0},a.connectToRoom=function(e,t){return console.log("id",e),console.log("currentUser",t),t.subscribeToRoom({roomId:"".concat(e),messageLimit:100,hooks:{onMessage:function(e){a.setState({messages:[].concat(Object(st.a)(a.state.messages),[e])})}}}).then(function(e){a.setState({currentRoom:e})})},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.advertiser&&this.props.schedule&&this.props.connectToChat({id:this.props.advertiser._id,name:this.props.schedule.board.name||"owner"},this.props.schedule._id,function(t,a){return e.setState({currentUser:t}),a.exist?t.id!==e.props.advertiser._id?(console.log("different account"),t.addUserToRoom({userId:e.props.advertiser._id,roomId:a.roomId}).then(function(){e.connectToRoom(a.roomId,t)})):(console.log("same account"),void e.connectToRoom(a.roomId,t)):t.createRoom({name:e.props.schedule._id,id:e.props.schedule._id}).then(function(a){return e.connectToRoom(a.id,t)})})}},{key:"render",value:function(){return console.log("currentRoom",this.state.currentRoom),console.log("messages",this.state.messages),r.a.createElement("div",{className:"".concat(Na.a.ChatBoxWrapper)},r.a.createElement("div",null,r.a.createElement(ba,{messages:this.state.messages,schedule:this.props.schedule,advertiser:this.props.advertiser})),r.a.createElement("div",{className:"position-relative"},r.a.createElement(ga,{sendMessage:this.props.sendMessage,currentUser:this.state.currentUser,currentRoom:this.state.currentRoom})))}}]),t}(n.Component),Oa={connectToChat:function(e,t,a){return function(n){me.post("/chats/users",{user:e}).then(function(){var r=new ie.a.TokenProvider({url:"".concat(de,"api/v1/chats/authenticate")});return new ie.a.ChatManager({instanceLocator:"v1:us1:bb5df3cd-5dc0-47a0-af60-dc0e87479b25",userId:e.id,tokenProvider:r,connectionTimeout:2e4}).connect().then(function(e){n(ue(t,function(t){a(e,t)}))})})}},isRoomExist:ue,sendMessage:function(e,t,a){return function(n){e.sendMessage({text:a.message,roomId:"".concat(t.id)}),n(Object(se.a)("create-message"))}}},ja=Object(s.connect)(function(e){return{}},Oa)(Ca),xa=function(e){function t(){return Object(q.a)(this,t),Object(P.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return console.log("schedule",this.props.schedule),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(ja,{schedule:this.props.schedule,advertiser:this.props.advertiser}))}}]),t}(n.Component),Sa=Object(s.connect)(function(e){return{schedule:e.boards.schedule||null,advertiser:e.profile?e.profile.advertiser:null}},{})(xa),ka=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).renderTodayAds=function(){var e=a.props.todaySchedules;return e&&e.length>0?e.map(function(e,t){return r.a.createElement("div",{className:"col-md-4 my-2 py-2"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{class:"card-header text-center"},e.advert.name),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},"info :  ",e.advert.note)),r.a.createElement("ul",{class:"list-group list-group-flush"},r.a.createElement("li",{class:"list-group-item"},"      Board :   ",e.board.name),r.a.createElement("li",{class:"list-group-item"},"End in : ",Le()(e.to).format("DD MM YYYY")),r.a.createElement("li",{class:"list-group-item"},"Advertiser : ",e.advertiser.company),r.a.createElement("li",{class:"list-group-item"},r.a.createElement(z.a,{className:"btn  btn-dark",style:{borderRadius:"10px",color:"#fff"},to:"/schedule/".concat(e._id)},"Check Stats of ads")))))}):r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"text-center"},"No Running Ads Today. ",r.a.createElement(z.a,{to:"/spots"},"Request some ads")," "))},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h5",{className:"display-4 text-center"},"Today Running Ads  | ",Le()(Date.now()).format("DD MM YYYY")),this.renderTodayAds())}}]),t}(n.Component),wa=a(291),Da=a.n(wa),Aa=le.getInstance(),Ia=a(127),_a=a.n(Ia),Ra=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).renderAdvertLists=function(e){return r.a.createElement("div",{className:"row"},e.map(function(e,t){return r.a.createElement("div",{className:"col-md-4 my-2 py-2"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{class:"card-header text-center"},e.advert.name),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},"info :  ",e.advert.note)),r.a.createElement("ul",{class:"list-group list-group-flush"},r.a.createElement("li",{class:"list-group-item"},"      Board :   ",e.board.name),r.a.createElement("li",{class:"list-group-item"},"End in : ",Le()(e.to).format("DD MM YYYY")),r.a.createElement("li",{class:"list-group-item"},r.a.createElement(z.a,{className:"btn  btn-dark",style:{borderRadius:"10px",color:"#fff"},to:"/schedule/".concat(e._id)},"Check Stats of ads")))))}))},a.renderAdvert=function(){var e=a.props.schedules,t=[];if(e){for(var n in e)t.push({name:n,arrTo:e[n]});return t.map(function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"my-3 py-3"},r.a.createElement("span",{className:"".concat(_a.a.dateSpan)},Le()(e.name).format("DD MM YYYY"))),a.renderAdvertLists(e.arrTo))})}return r.a.createElement("div",null,r.a.createElement("h4",null,"Loading please wait "))},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return console.log("schedules date",this.props.schedules),r.a.createElement("div",{className:"container"},r.a.createElement("h4",{className:"text-center"},"By Date"),this.renderAdvert())}}]),t}(n.Component),Ta=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).renderAdvertLists=function(e){return r.a.createElement("div",{className:"row"},e.map(function(e,t){return r.a.createElement("div",{className:"col-md-4 my-2 py-2"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{class:"card-header text-center"},e.advert.name),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},"info :  ",e.advert.note)),r.a.createElement("ul",{class:"list-group list-group-flush"},r.a.createElement("li",{class:"list-group-item"},"    Start :   ",Le()(e.from).format("DD MM YYYY")),r.a.createElement("li",{class:"list-group-item"},"End in : ",Le()(e.to).format("DD MM YYYY")),r.a.createElement("li",{class:"list-group-item"},r.a.createElement(z.a,{className:"btn btn-dark ",style:{borderRadius:"10px"},to:"/schedule/".concat(e._id)},"Check Stats of ads")))))}))},a.renderAdvert=function(){var e=a.props.schedules,t=[];if(e){for(var n in e)t.push({name:n,arrTo:e[n]});return t.map(function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"my-3 py-3"},r.a.createElement("span",{className:"".concat(_a.a.dateSpan)},e.name)),a.renderAdvertLists(e.arrTo))})}return r.a.createElement("div",null,r.a.createElement("h4",null,"Loading please wait "))},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h4",{className:"text-center"},"By Board"),this.renderAdvert())}}]),t}(n.Component),Ba=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).state={group:"board"},a.onGroupChange=function(e){a.setState({group:e},function(){a.props.getSchedulesBy({type:"advertiser",_id:a.props.advertiser._id},a.state.group)})},a.boardSchedules=function(){return r.a.createElement(Ta,{schedules:a.props.schedules?a.props.schedules:null})},a.dateSchedules=function(){return r.a.createElement(Ra,{schedules:a.props.schedules?a.props.schedules:null})},a.renderGroupedSchedules=function(){switch(a.state.group){case"board":return a.boardSchedules();case"date":return a.dateSchedules()}},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.props.getSchedulesBy({type:"advertiser",_id:this.props.advertiser._id},this.state.group),this.props.todaySchedules(this.props.advertiser._id)}},{key:"render",value:function(){console.log(this.props.schedules);return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(ka,{todaySchedules:this.props.today||[]}),r.a.createElement(et.a,null),r.a.createElement("div",{className:"my-3 py-3"},r.a.createElement(Te,{options:[{key:"Group by Date",value:"date"},{key:"Group by Board",value:"board"}]||[],value:this.state.group,onChange:this.onGroupChange,title:"group",placeholder:"choose group"})),r.a.createElement("div",{className:"my-3 py-3 text-center"},r.a.createElement("span",{className:"".concat(Da.a.totalSpan)}," ",this.props.totalItems||0,"  ads  running")),this.renderGroupedSchedules())}}]),t}(n.Component),La={getSchedulesBy:function(e,t){return function(a){Aa.post("/schedules/get",{actor:e,group:t}).then(function(e){a({type:"SCHEDULES_BY",payload:e.data})})}},todaySchedules:function(e){return function(t){Aa.post("/schedules/now",{type:"advertiser",advertiserId:e}).then(function(e){t({type:"TODAY_SCHEDULES",payload:e.data.schedules})}).catch(function(e){console.log(e)})}}},Fa=Object(s.connect)(function(e){return{advertiser:e.profile.advertiser||null,schedules:we(e.schedules.schedules)?null:e.schedules.schedules.schedules,totalItems:we(e.schedules.schedules)?null:e.schedules.schedules.totalItems,today:we(e.schedules.today)?null:e.schedules.today}},La)(Ba),Ma=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).renderLeads=function(){var e=a.props.leads;return e.length>0?e.map(function(e,t){for(var a in e)if(e.hasOwnProperty(a)){var n=e[a];return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,a),r.a.createElement("td",null,n))}}):r.a.createElement("div",null,r.a.createElement("h3",null,"No Leads for now"))},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(V.y,{striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"type"),r.a.createElement("th",null,"lead"))),r.a.createElement("tbody",null,this.renderLeads())))}}]),t}(n.Component),Ya=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).state={modal:!1},a.toggle=function(){a.setState(function(e){return{modal:!e.modal}})},a.renderTitle=function(e){return r.a.createElement("div",{className:"my-2 py-2"},r.a.createElement("h4",{className:"display-3 text-center",style:{letterSpacing:"1px"}},e.advert.name))},a.renderStats=function(e){return r.a.createElement("div",{className:"container  shadow"},r.a.createElement("div",{className:"row my-3"},r.a.createElement("div",{className:"col-md-6 col-lg-6 text-center"},r.a.createElement("div",{className:"row my-2 py-2 text-center"},r.a.createElement("div",{className:"col-md-6 col-lg-6  "},r.a.createElement("div",{className:"card m-2 p-2 text-center",style:{backgroundImage:"radial-gradient(circle 248px at center, #9B8281 0%, #9B8281  47%, #9B8281 100%)",color:"#fff"}},r.a.createElement("div",{className:"d-flex justify-content-center align-items-center h-100"},r.a.createElement("div",null,r.a.createElement("i",{class:"fas fa-qrcode fa-5x ",style:{color:"white",marginRight:"10px",paddingRight:"10px"}})),r.a.createElement("div",{className:"mx-1"},r.a.createElement("span",{style:{fontSize:"3rem",color:"white"}},e.stats.qrqty||0))))),r.a.createElement("div",{className:"col-md-6 col-lg-6  "},r.a.createElement("div",{className:"card m-2 p-2 text-center",style:{backgroundImage:"radial-gradient(circle 248px at center, #9B8281 0%, #9B8281  47%, #9B8281 100%)",color:"#fff"}},r.a.createElement("div",{className:"d-flex justify-content-center align-items-center h-100",style:{cursor:"pointer"},onClick:a.toggle},r.a.createElement("div",null,r.a.createElement("i",{class:"fas fa-envelope-open-text fa-5x",style:{color:"white",marginRight:"10px",paddingRight:"10px"}})),r.a.createElement("div",{className:""},r.a.createElement("span",{style:{fontSize:"3rem",color:"white"}},e.stats.leads.length||0))))))),r.a.createElement("div",{className:"col-md-6",style:{backgroundImage:"radial-gradient(circle 248px at center, #9B8281 0%, #9B8281  47%, #9B8281 100%)",color:"#fff"}},r.a.createElement("div",{className:"d-flex flex-row justify-content-center  align-items-center h-100 mx-2 px-2"},r.a.createElement("div",null,r.a.createElement("i",{class:"ni ni-album-2",style:{fontSize:"20px",marginRight:"10px",color:"white"}}),r.a.createElement("span",{style:{fontSize:"20px",color:"#fff",fontWeight:"bold"}},Le()(e.from).format("DD MM YYYY"))),r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:"20px",color:"#fff",fontWeight:"bold"},className:"mx-2"}," - ")),r.a.createElement("div",null,r.a.createElement("i",{class:"ni ni-album-2",style:{fontSize:"20px",marginRight:"10px",color:"white"}}),r.a.createElement("span",{style:{fontSize:"20px",color:"#fff",fontWeight:"bold"}},Le()(e.to).format("DD MM YYYY")))))))},a.renderAdvert=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"display-4"},"Board Details")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("span",{style:{fontWeight:"bolder",fontSize:"20px"},className:"mx-2 px-2"},"Name  "),r.a.createElement("span",null,e.board.name))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("span",{style:{fontWeight:"bolder",fontSize:"20px"},className:"mx-2 px-2"},"Region  "),r.a.createElement("span",null,e.board.region))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("span",{style:{fontWeight:"bolder",fontSize:"20px"},className:"mx-2 px-2"},"Country  "),r.a.createElement("span",null,e.board.country)))))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"display-4"},"Owner Details")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("span",{style:{fontWeight:"bolder",fontSize:"20px"},className:"mx-2 px-2"},"Name  "),r.a.createElement("span",null,e.owner.company))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("span",{style:{fontWeight:"bolder",fontSize:"20px"},className:"mx-2 px-2"},"Address  "),r.a.createElement("span",null,e.owner.address.line1," ","  ",e.owner.address.line2," ","  "))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("span",{style:{fontWeight:"bolder",fontSize:"20px"},className:"mx-2 px-2"},"Phone  "),r.a.createElement("span",null,e.owner.phone[0]||"no phone"," ","  "))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("span",{style:{fontWeight:"bolder",fontSize:"20px"},className:"mx-2 px-2"},"Email  "),r.a.createElement("span",null,e.owner.email[0]||"no email"," ","  "))))))))},a.renderSingleSchedule=function(){return a.props.schedule?r.a.createElement("div",{className:""},a.renderTitle(a.props.schedule),a.renderStats(a.props.schedule),a.renderAdvert(a.props.schedule)):r.a.createElement("div",{className:"d-flex h-100 justify-content-center align-items-center"},r.a.createElement("h4",{className:"display-3 text-center"},"Loading"))},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.props.singleSchedule(this.props.match.params.id)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},this.renderSingleSchedule(),r.a.createElement(V.m,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(V.p,{toggle:this.toggle},"Leads Data"),r.a.createElement(V.n,null,r.a.createElement(Ma,{leads:this.props.schedule?this.props.schedule.stats.leads:[]})),r.a.createElement(V.o,null,r.a.createElement(V.b,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),t}(n.Component),qa={singleSchedule:function(e){return function(t){Aa.get("/schedules/single/".concat(e)).then(function(e){t({type:"SINGLE_SCHEDULE",payload:e.data.schedule})}).catch(function(e){console.log(e)})}}},Ua=Object(W.f)(Object(s.connect)(function(e){return{schedule:e.schedules.schedule||null}},qa)(Ya)),Pa=function(e){function t(){var e,a;Object(q.a)(this,t);for(var c=arguments.length,l=new Array(c),s=0;s<c;s++)l[s]=arguments[s];return(a=Object(P.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(l)))).state={dropdownOpen:!1,direction:!1,changeStyle:!1},a.componentDidMount=function(){a.props.getAdverts(),a.props.getAdvertiser(),a.props.auth(),window.ga("create","","auto")},a.toggle=function(){a.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},a.onMouseEnter=function(){a.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},a.onMouseLeave=function(){a.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},a.changeWidth=function(){a.setState(function(e){return{changeStyle:!e.changeStyle}})},a.changeDirection=function(){a.setState(function(e){return{direction:!e.direction}})},a.logoutUser=function(){a.props.logoutUser()},a.renderSettingBar=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(V.i,{isOpen:a.state.dropdownOpen,toggle:a.toggle,onMouseEnter:function(){setTimeout(function(){a.onMouseEnter()},200)},onMouseLeave:a.onMouseLeave},r.a.createElement(V.l,{nav:!0},r.a.createElement("a",{className:"nav-link nav-link-icon ",href:"#",id:"navbar-default_dropdown_1",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"ni ni-circle-08",style:{fontSize:"36px",color:"white"}}),r.a.createElement("span",{className:"nav-link-inner--text d-lg-none"},"Advertiser"))),r.a.createElement(V.k,null,r.a.createElement(V.j,null,r.a.createElement("button",{className:"dropdown-item",onClick:a.logoutUser},"LogOut")))))},a.renderUnAuthenticated=function(){return r.a.createElement("div",null,r.a.createElement(be,null))},a.renderMainContent=function(){var e="2",t="10",c="left";return a.state.changeStyle&&(e="1",t="11"),a.state.direction&&(c="right"),r.a.createElement(n.Fragment,null,r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:" col-xl-".concat(e," ").concat($.a.sidebar," fixed-top")},r.a.createElement(ke,{changeStyle:a.state.changeStyle})),r.a.createElement("div",{className:"col-xl-".concat(t," col-lg-11  ml-auto  fixed-top"),style:{backgroundImage:"radial-gradient(circle 248px at center, #9B8281 0%, #9B8281  47%, #9B8281 100%)"}},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"mr-auto p-3 "},r.a.createElement("a",{style:{color:"#fff",cursor:"pointer"},onClick:function(){a.changeWidth(),a.changeDirection()}},r.a.createElement("i",{className:" ni ni-bold-".concat(c),style:{fontSize:"25px"}}))),r.a.createElement("span",{className:"p-3",style:{color:"#fff"}},"credits : $ ",a.props.profile?a.props.profile.payment.credit:0),r.a.createElement(z.a,{className:"p-3",to:"/account"}," Top Up Credits"),r.a.createElement("span",{className:"p-3",style:{color:"#fff"}},a.props.profile?a.props.profile.company:"no name"),a.renderSettingBar()))))),r.a.createElement(Ne,null),r.a.createElement("section",{className:"py-4 my-4"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-".concat(t," col-lg-10 ml-auto")},r.a.createElement(W.c,null,r.a.createElement(W.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(_t,{getAdverts:a.props.getAdverts})}}),r.a.createElement(W.a,{path:"/adverts",render:function(e){return r.a.createElement(_t,{getAdverts:a.props.getAdverts})}}),r.a.createElement(W.a,{path:"/spots",render:function(e){return r.a.createElement(Vt,null)}}),r.a.createElement(W.a,{path:"/profile",render:function(e){return r.a.createElement(oa,null)}}),r.a.createElement(W.a,{path:"/contact",render:function(e){return r.a.createElement(ia,null)}}),r.a.createElement(W.a,{path:"/schedules",render:function(e){return r.a.createElement(Fa,null)}}),r.a.createElement(W.a,{path:"/requests",render:function(e){return r.a.createElement(ua,null)}}),r.a.createElement(W.a,{path:"/account",render:function(e){return r.a.createElement(ea,{user:a.props.user,editUser:a.props.editUser})}}),r.a.createElement(W.a,{path:"/single",render:function(e){return r.a.createElement(Xe,null)}}),r.a.createElement(W.a,{path:"/schedule/:id",render:function(e){return r.a.createElement(Ua,null)}}),r.a.createElement(W.a,{path:"/singleboard",render:function(e){return r.a.createElement(Sa,null)}})),r.a.createElement(K.a,{pageId:"836186800088732",appId:"1349261215239476",htmlRef:""}))))))},a}return Object(H.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return function(e){if(window.ga){if("/sign-up"==e.pathname){var t=e.pathname;Ce.setPageAndSendToGA(t)}if(10==e.search.length){var a=e.pathname+e.search;Ce.setPageAndSendToGA(a)}}}(this.props.location),this.props.isAuth&&this.props.isAuth?this.renderMainContent():this.renderUnAuthenticated()}}]),t}(r.a.Component),Ga={logoutUser:function(e){return function(e){te.deleteToken(),window.location.assign("https://www.spotads.live")}},getAdverts:_e,getAdvertiser:Ie,editUser:function(e){return function(t){Ae.post("/users/edit",Object(d.a)({},e)).then(function(e){t(pe()),v.toastr.success("changed user account")})}},auth:pe},Ha=Object(W.f)(Object(s.connect)(function(e){return{advertiser:e.user.isAuth?e.user.userData.advertiser._id:null,user:e.user.userData&&e.user.userData.isAuth?e.user.userData.advertiser.user:null,isAuth:e.user.userData?e.user.userData.isAuth:null,profile:we(e.profile)?null:e.profile.advertiser}},Ga)(Pa)),za=(a(758),a(760),a(762),Y().store);l.a.render(r.a.createElement(s.Provider,{store:za},r.a.createElement(O.a,{history:Y().history},r.a.createElement("div",null,r.a.createElement(E.a,{position:"bottom-right",transitionIn:"fadeIn",transitionOut:"fadeOut",timeOut:2e3}),r.a.createElement(Ha,null)))),document.getElementById("root"))}},[[422,2,1]]]);
//# sourceMappingURL=main.ffb1f64e.chunk.js.map